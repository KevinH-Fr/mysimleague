<div class="card m-0 p-1" style="max-width: 480px;">

  <%= form_with(model: rivalite) do |form| %>
    <% if rivalite.errors.any? %>
      <div style="color: red">
        <h2><%= pluralize(rivalite.errors.count, "error") %> prohibited this rivalite from being saved:</h2>

        <ul>
          <% rivalite.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <% if rivalite.persisted? %>
      <%= form.hidden_field :division_id %> 
    <% else %>
      <%= form.hidden_field :division_id, value: session[:division] %> 
    <% end %>

    <div class="row g-2">
      <div class="col-md">
        <div class="input-group input-group-sm my-1">
          <%= form.label :pilote1_id, style: "display: block" %>
          <%= form.collection_select :pilote1_id,
                  pilotes_division_named(Division.find(session[:division])), :first, :second,
                  { include_blank: 'Select Pilote' },
                    class: "form-select input-colored" %>  
        </div>
      </div>       

      <div class="col-md">
        <div class="input-group input-group-sm my-1">
          <%= form.label :pilote2_id, style: "display: block" %>
          <%= form.collection_select :pilote2_id,
                  pilotes_division_named(Division.find(session[:division])), :first, :second,
                  { include_blank: 'Select Pilote' },
                    class: "form-select input-colored" %>         
        </div>
      </div>

      <div class="col-md">
        <div class="input-group input-group-sm my-1">
          <%= form.label :statut, style: "display: block" %>
          <%= form.check_box :statut %>
        </div>
      </div>

      <%= custom_submit_button("RivalitÃ©") %>

    </div>
  <% end %>

</div>